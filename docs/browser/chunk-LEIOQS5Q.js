import{b as h}from"./chunk-6O6AKWEF.js";import{aa as c,fa as d,q as s}from"./chunk-4IWQIHCA.js";var n=class extends Error{};n.prototype.name="InvalidTokenError";function l(r){return decodeURIComponent(atob(r).replace(/(.)/g,(t,o)=>{let e=o.charCodeAt(0).toString(16).toUpperCase();return e.length<2&&(e="0"+e),"%"+e}))}function u(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return l(t)}catch{return atob(t)}}function p(r,t){if(typeof r!="string")throw new n("Invalid token specified: must be a string");t||(t={});let o=t.header===!0?0:1,e=r.split(".")[o];if(typeof e!="string")throw new n(`Invalid token specified: missing part #${o+1}`);let i;try{i=u(e)}catch(a){throw new n(`Invalid token specified: invalid base64 for part #${o+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new n(`Invalid token specified: invalid json for part #${o+1} (${a.message})`)}}var v=(()=>{let t=class t{updateToken(e){this.TokenBehavior.next(e)}updateJobSeekerId(e){this.JobSeekerId.next(e)}updateUserInfo(e){this.UserInfo.next(e)}updateJobProviderId(e){this.JobProviderId.next(e)}updateId(e){this.Id.next(e)}constructor(e){if(this._httpClient=e,this.TokenBehavior=new s(""),this.currentToken=this.TokenBehavior.asObservable(),this.JobSeekerId=new s(""),this.CurrentJobSeeker=this.JobSeekerId.asObservable(),this.UserInfo=new s(""),this.CurrentUserInfo=this.UserInfo.asObservable(),this.JobProviderId=new s(""),this.CurrentJobProvider=this.JobProviderId.asObservable(),this.Id=new s(0),this.CurrentId=this.Id.asObservable(),this.BaseURL="https://mlv0108p-7156.uks1.devtunnels.ms",localStorage.getItem("Token")!=null){let i=localStorage.getItem("Token");this.Token=p(i)}}Register(e){return this._httpClient.post(`${this.BaseURL}/api/Account/Register`,e)}Login(e){return this._httpClient.post(`${this.BaseURL}/api/Account/Login`,e)}};t.\u0275fac=function(i){return new(i||t)(d(h))},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{p as a,v as b};
