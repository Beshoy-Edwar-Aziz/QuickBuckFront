import{a as W}from"./chunk-VVC45DNW.js";import{a as Y,b as p,d as B,e as R,f as j,h as u,i as A,l as q,m as G,p as J}from"./chunk-GVASTDVW.js";import{a as H}from"./chunk-NMXXHOSR.js";import{c as F,e as O,j as z}from"./chunk-74GY5GQ5.js";import{a as V}from"./chunk-ZLFBUOKE.js";import{b as L}from"./chunk-3FEZ7P6T.js";import"./chunk-EQ3IFVHN.js";import{m as T}from"./chunk-STEM5K4J.js";import{Ab as I,Ib as i,Jb as g,Ka as _,Kb as D,Lb as w,Oa as n,Pa as v,Qb as x,Sb as N,Tb as M,eb as y,gb as o,h as $,kb as S,la as C,lb as k,nb as U,ob as E,pb as t,qb as l,rb as a,yb as h}from"./chunk-4IWQIHCA.js";var P=$(H());function K(s,m){if(s&1&&(t(0,"button",12),i(1),l()),s&2){let f=m.$implicit;n(),g(f==null?null:f.name)}}function Q(s,m){s&1&&(t(0,"button",15),a(1,"i",58),i(2," Edit Profile"),l())}function X(s,m){if(s&1&&(t(0,"div",19)(1,"h2"),a(2,"i",59),i(3),N(4,"currency"),l(),t(5,"button",60),i(6,"Charge Your Wallet"),l()()),s&2){let f=I();n(3),D(" ",M(4,1,f.UserData==null?null:f.UserData.wallet.balance),"")}}function Z(s,m){if(s&1&&(t(0,"ul",24)(1,"li",61),a(2,"i",62),i(3),l()()),s&2){let f=m.$implicit;n(3),D(" ",f==null?null:f.name,"")}}var de=(()=>{let m=class m{constructor(c,r,e,d,b){this._userService=c,this._authService=r,this._activatedRoute=e,this._paymentService=d,this._router=b,this.Token=this._authService.Token,this.EditProfile=new j({id:new u("",p.required),university:new u("",p.required),college:new u("",p.required),photo:new u("",p.required),currentYear:new u("",p.required),status:new u("",p.required),skills:new u(""),skills2:new u(""),skills3:new u(""),skills4:new u(""),skills5:new u("")})}ngOnInit(){let c=this._activatedRoute.snapshot.params;this.Id=c.id,this._userService.GetJobSeekerById(this.Id).subscribe({next:r=>{console.log(r),this.UserData=r},error:r=>{console.log(r)}})}handlePhotos(c){let r=c.target.files[0],e=new FileReader;e.readAsDataURL(r),e.onloadend=()=>{let d=e.result;console.log(d),this.reader=d}}handleEdit(){console.log(this.UserData),console.log(this.EditProfile.value);let c={id:this.EditProfile.value.id==""?this.UserData.id:this.EditProfile.value.id,university:this.EditProfile.value.university==""?this.UserData.university:this.EditProfile.value.university,college:this.EditProfile.value.college==""?this.UserData.college:this.EditProfile.value.college,photo:this.reader!=""?this.reader:this.UserData.photo,currentYear:this.EditProfile.value.currentYear==""?this.UserData.currentYear:this.EditProfile.value.currentYear,status:this.EditProfile.value.status==""?this.UserData.status:this.EditProfile.value.status,skills:[{name:this.EditProfile.value.skills==""?this.UserData.skills[0]?.name:this.EditProfile.value.skills},{name:this.EditProfile.value.skills2==""?this.UserData.skills[1]?.name:this.EditProfile.value.skills2},{name:this.EditProfile.value.skills3==""?this.UserData.skills[2]?.name:this.EditProfile.value.skills3},{name:this.EditProfile.value.skills4==""?this.UserData.skills[3]?.name:this.EditProfile.value.skills4},{name:this.EditProfile.value.skills5==""?this.UserData.skills[4]?.name:this.EditProfile.value.skills5}]};this._userService.updateJobSeeker(c).subscribe({next:r=>{console.log(r),P.default.fire({title:"Success",text:"Successfully updated user's info",icon:"success"})},error:r=>{console.log(r),P.default.fire({title:"Failure",text:`${r.error.message}`,icon:"error"})}})}PayForCharge(){let r=document.getElementById("balance").value;localStorage.setItem("PaymentType","Charge");let e=localStorage.getItem("PaymentType");console.log(e),this._paymentService.createOrUpdatePaymentIntent(this.UserData.wallet.id,r).subscribe({next:d=>{console.log(d),localStorage.setItem("PaymentIntentId",d.paymentIntentId),localStorage.setItem("ClientSecret",d.clientSecret),localStorage.setItem("Balance",JSON.stringify(r)),this._router.navigate(["/Checkout"])},error:d=>{console.log(d)}})}};m.\u0275fac=function(r){return new(r||m)(v(V),v(L),v(F),v(W),v(O))},m.\u0275cmp=C({type:m,selectors:[["app-user-profile"]],standalone:!0,features:[x],decls:107,vars:22,consts:[[1,"container","rounded","py-4"],[1,"row"],[1,"col-md-4"],[1,"position-relative","z-3","overflow-hidden"],["src","assets/Images/Rectangle 7.png","alt","",1,"position-absolute","shape","z-n1"],[1,"rounded","p-2","border"],[1,"d-flex","justify-content-center"],["onerror","this.src='assets/Images/PlaceHolder.jpg'",1,"img-cover","rounded-circle",3,"src","alt"],[1,"d-flex","align-items-center","flex-column","my-3","border-bottom","py-3"],[1,"font-lato","font-size-20","fw-semibold","font-green"],[1,"font-lato","font-size-14","font-faint","fw-normal"],[1,"d-flex"],[1,"btn","btn-background-grey","font-lato"],[1,"d-flex","align-items-center","flex-column"],["type","text","disabled","",1,"form-control","rounded-0","w-50","bg-body-secondary",3,"value"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","background-green","fw-normal","font-lato","font-size-16","my-3"],[1,"border","p-3","my-3"],["src","assets/Images/Container 82.png","alt","Jobs",1,"w-100"],[1,"col-md-8"],[1,"d-flex","flex-column","align-items-center"],[1,""],[1,"font-lato","font-size-20","fw-bold"],[1,"font-lato","font-size-14"],[1,"border","rounded","p-3","my-3"],[1,"list-unstyled"],[1,"border","rounded","p-3"],[1,"d-flex","gap-2"],["src","assets/Images/Image 44.png",1,"img-cover2",3,"alt"],[1,"fw-bold","font-lato","font-size-16"],[1,"font-grey","font-lato","font-size-14"],[1,"fa-solid","fa-sitemap"],[1,"ms-2"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"font-sarabun","font-size-20"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"font-lato",3,"submit","formGroup"],[1,"form-label"],["type","text","formControlName","id",1,"form-control",3,"value"],["type","text","formControlName","university",1,"form-control",3,"value"],["type","text","formControlName","college",1,"form-control",3,"value"],["type","file","formControlName","photo",1,"form-control",3,"change"],["type","text","formControlName","currentYear",1,"form-control",3,"value"],["type","text","formControlName","status",1,"form-control",3,"value"],["type","text","formControlName","skills",1,"form-control",3,"value"],["type","text","formControlName","skills2",1,"form-control",3,"value"],["type","text","formControlName","skills3",1,"form-control",3,"value"],["type","text","formControlName","skills4",1,"form-control",3,"value"],["type","text","formControlName","skills5",1,"form-control",3,"value"],["type","submit",1,"btn","btn-outline-dark","my-4"],["id","Payment","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","text","id","balance","placeholder","Enter The Balance You Want To Charge",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-pen"],[1,"fas","fa-wallet"],["data-bs-toggle","modal","data-bs-target","#Payment",1,"btn","btn-outline-dark"],[1,"font-lato","font-size-16","fw-normal"],[1,"fa-regular","font-green","fa-circle-check","check"]],template:function(r,e){r&1&&(t(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),a(5,"img",4),t(6,"div",5)(7,"div",6),a(8,"img",7),l(),t(9,"div",8)(10,"h1",9),i(11),l(),t(12,"p",10),i(13),l(),t(14,"div",11),U(15,K,2,1,"button",12,k),l()(),t(17,"div",13)(18,"p"),i(19,"Profile Link"),l(),a(20,"input",14),y(21,Q,3,0,"button",15),l()(),t(22,"div",16),a(23,"img",17),l()()(),t(24,"div",18),y(25,X,7,3,"div",19),t(26,"div",20)(27,"div")(28,"h2",21),i(29,"About"),l(),t(30,"p",22),i(31,"A Pioneer At Working in Harsh Enviroment"),l(),a(32,"p"),t(33,"div",23)(34,"h2",21),i(35,"Skills"),l(),U(36,Z,4,1,"ul",24,k),l(),t(38,"div",25)(39,"h2",21),i(40,"Education"),l(),t(41,"div",26)(42,"div"),a(43,"img",27),l(),t(44,"div")(45,"p",28),i(46),l(),t(47,"p",29),a(48,"i",30),t(49,"span",31),i(50),l()()()()()()()(),t(51,"div",32)(52,"div",33)(53,"div",34)(54,"div",35)(55,"h2",36),i(56,"Edit User's Info"),l(),a(57,"button",37),l(),t(58,"div",38)(59,"form",39),h("submit",function(){return e.handleEdit()}),t(60,"label",40),i(61,"id"),l(),a(62,"input",41),t(63,"label",40),i(64,"University"),l(),a(65,"input",42),t(66,"label",40),i(67,"College"),l(),a(68,"input",43),t(69,"label",40),i(70,"Photo"),l(),t(71,"input",44),h("change",function(b){return e.handlePhotos(b)}),l(),t(72,"label",40),i(73,"Current Year"),l(),a(74,"input",45),t(75,"label",40),i(76,"Status"),l(),a(77,"input",46),t(78,"label",40),i(79,"Skill"),l(),a(80,"input",47),t(81,"label",40),i(82,"Skill2"),l(),a(83,"input",48),t(84,"label",40),i(85,"Skill3"),l(),a(86,"input",49),t(87,"label",40),i(88,"Skill4"),l(),a(89,"input",50),t(90,"label",40),i(91,"Skill5"),l(),a(92,"input",51),t(93,"button",52),i(94,"Save Changes"),l()()()()()(),t(95,"div",53)(96,"div",33)(97,"div",34)(98,"div",35)(99,"h1",54),i(100,"Balance You Need To Charge"),l(),a(101,"button",37),l(),t(102,"div",38),a(103,"input",55),l(),t(104,"div",56)(105,"button",57),h("click",function(){return e.PayForCharge()}),i(106,"Save changes"),l()()()()()()()()),r&2&&(n(8),o("src",e.UserData==null?null:e.UserData.photo,_)("alt",e.UserData==null?null:e.UserData.userName),n(3),w("",e.UserData==null?null:e.UserData.userFName," ",e.UserData==null?null:e.UserData.userLName,""),n(2),g(e.UserData==null?null:e.UserData.status),n(2),E(e.UserData==null?null:e.UserData.skills),n(5),o("value","http://localhost:4200/UserProfile/"+e.Id),n(),S(21,e.Token.sub=="JobSeeker"?21:-1),n(4),S(25,e.Token.sub=="JobSeeker"?25:-1),n(11),E(e.UserData==null?null:e.UserData.skills),n(7),o("alt",e.UserData==null?null:e.UserData.university),n(3),g(e.UserData==null?null:e.UserData.university),n(4),g(e.UserData==null?null:e.UserData.college),n(9),o("formGroup",e.EditProfile),n(3),o("value",e.UserData==null?null:e.UserData.id),n(3),o("value",e.UserData==null?null:e.UserData.university),n(3),o("value",e.UserData==null?null:e.UserData.college),n(6),o("value",e.UserData==null?null:e.UserData.currentYear),n(3),o("value",e.UserData==null?null:e.UserData.status),n(3),o("value",e.UserData==null||e.UserData.skills[0]==null?null:e.UserData.skills[0].name),n(3),o("value",e.UserData==null||e.UserData.skills[1]==null?null:e.UserData.skills[1].name),n(3),o("value",e.UserData==null||e.UserData.skills[2]==null?null:e.UserData.skills[2].name),n(3),o("value",e.UserData==null||e.UserData.skills[3]==null?null:e.UserData.skills[3].name),n(3),o("value",e.UserData==null||e.UserData.skills[4]==null?null:e.UserData.skills[4].name))},dependencies:[z,J,A,Y,B,R,q,G,T],styles:[".img-cover[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.img-cover2[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.background-grey[_ngcontent-%COMP%]{background-color:#fafafb}.colored-btn[_ngcontent-%COMP%]{background:#6d31ed;color:#fff;font-family:Manrope,sans-serif;transition:background-color .5s}.colored-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.font-green[_ngcontent-%COMP%]{color:#0ea89b}.font-faint[_ngcontent-%COMP%]{color:#171a1f}.btn-background-grey[_ngcontent-%COMP%]{background-color:#f3f4f6}.shape[_ngcontent-%COMP%]{bottom:95%;width:100%;left:0%}.background-green[_ngcontent-%COMP%]{background-color:#0ea89b;color:#fff}"]});let s=m;return s})();export{de as UserProfileComponent};
